---
import BaseLayout from "../layouts/BaseLayout.astro"
import Hero from "../components/Hero.astro"
import { getCollection } from "astro:content"

const pageTitle = "ä½ç»´å±•å¼€ - å‰ç«¯å…¨æ ˆæˆé•¿ä¹‹è·¯"
const allPosts = await getCollection("blog")
const recentPosts = allPosts.slice(0, 3) // æœ€æ–°3ç¯‡æ–‡ç« 
---

<BaseLayout pageTitle={pageTitle}>
  <!-- Hero åŒºåŸŸ -->
  <Hero 
    title="ğŸš€ ä½ç»´å±•å¼€" 
    subtitle="Webå‰ç«¯å¼€å‘ | å…¨æ ˆæ¢ç´¢ | æŠ€æœ¯æˆé•¿"
  />

  <!-- ä¸ªäººäº®ç‚¹ä»‹ç» -->
  <section class="space-y-8 mt-12">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- äº®ç‚¹å¡ç‰‡1 -->
      <div class="p-6 rounded-xl bg-linear-to-br from-blue-50 to-blue-100 border border-blue-200 hover:shadow-lg transition-all">
        <div class="text-4xl mb-3">ğŸ¯</div>
        <h3 class="text-xl font-bold text-gray-800 mb-2">6å¹´å‰ç«¯ç»éªŒ</h3>
        <p class="text-gray-700">ä»jQueryåˆ°Reactã€Next.jsï¼Œæ·±è€•ç°ä»£Webå¼€å‘</p>
      </div>

      <!-- äº®ç‚¹å¡ç‰‡2 -->
      <div class="p-6 rounded-xl bg-linear-to-br from-purple-50 to-purple-100 border border-purple-200 hover:shadow-lg transition-all">
        <div class="text-4xl mb-3">âš›ï¸</div>
        <h3 class="text-xl font-bold text-gray-800 mb-2">React / Next.js</h3>
        <p class="text-gray-700">ä¸“ç²¾ç°ä»£å‰ç«¯æ¡†æ¶ï¼Œä»ç»„ä»¶åŒ–åˆ°å…¨æ ˆåº”ç”¨</p>
      </div>

      <!-- äº®ç‚¹å¡ç‰‡3 -->
      <div class="p-6 rounded-xl bg-linear-to-br from-indigo-50 to-indigo-100 border border-indigo-200 hover:shadow-lg transition-all">
        <div class="text-4xl mb-3">ğŸ¨</div>
        <h3 class="text-xl font-bold text-gray-800 mb-2">å…¨æ ˆèƒ½åŠ›</h3>
        <p class="text-gray-700">å‰åç«¯æŠ€æœ¯é€šåƒï¼Œç‹¬ç«‹äº¤ä»˜å®Œæ•´ç³»ç»Ÿ</p>
      </div>
    </div>
  </section>

  <!-- æœ€æ–°æ–‡ç«  -->
  <section class="space-y-6 mt-12">
    <div class="flex items-center justify-between">
      <h2 class="text-3xl font-bold text-gray-800">ğŸ“š æœ€æ–°æ–‡ç« </h2>
      <a href="/blog/" class="text-blue-600 hover:text-blue-800 font-semibold transition-colors">
        æŸ¥çœ‹å…¨éƒ¨ â†’
      </a>
    </div>

    {recentPosts.length > 0 ? (
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {recentPosts.map((post) => (
          <a
            href={`/posts/${post.id}/`}
            class="group p-6 rounded-xl bg-linear-to-br from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 border border-blue-200 hover:border-blue-400 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]"
          >
            <h3 class="text-lg font-bold text-gray-800 group-hover:text-blue-600 transition-colors line-clamp-2 mb-2">
              {post.data.title}
            </h3>
            {post.data.description && (
              <p class="text-gray-600 text-sm line-clamp-2 mb-4">
                {post.data.description}
              </p>
            )}
            <div class="flex items-center justify-between pt-4 border-t border-blue-200">
              <div class="flex gap-2 flex-wrap">
                {post.data.tags?.slice(0, 2).map((tag) => (
                  <span class="text-xs bg-blue-200 text-blue-700 px-2 py-1 rounded-full font-medium">
                    {tag}
                  </span>
                ))}
              </div>
              <span class="text-xs text-gray-500">
                {post.data.pubDate?.toLocaleDateString('zh-CN')}
              </span>
            </div>
          </a>
        ))}
      </div>
    ) : (
      <div class="text-center p-12 bg-gray-50 rounded-xl">
        <p class="text-gray-500">æš‚æ— æ–‡ç« </p>
      </div>
    )}
  </section>

  <!-- æ ¸å¿ƒæŠ€èƒ½æ ˆ -->
  <section class="space-y-6 mt-12">
    <h2 class="text-3xl font-bold text-gray-800">ğŸ› ï¸ æŠ€èƒ½æ ˆ</h2>
    
    <div class="space-y-4">
      <!-- å‰ç«¯ -->
      <div class="p-6 rounded-xl bg-linear-to-r from-blue-50 to-indigo-50 border border-blue-200">
        <p class="font-bold text-gray-800 mb-3">å‰ç«¯æŠ€æœ¯</p>
        <div class="flex flex-wrap gap-2">
          {["React", "Next.js", "TypeScript", "Tailwind CSS", "Ant Design"].map((skill) => (
            <span class="px-3 py-1 bg-blue-200 text-blue-800 rounded-full text-sm font-medium">
              {skill}
            </span>
          ))}
        </div>
      </div>

      <!-- åç«¯ -->
      <div class="p-6 rounded-xl bg-linear-to-r from-purple-50 to-indigo-50 border border-purple-200">
        <p class="font-bold text-gray-800 mb-3">åç«¯æŠ€æœ¯</p>
        <div class="flex flex-wrap gap-2">
          {["Node.js", "NestJS", "TypeScript", "MySql", "MongoDB"].map((skill) => (
            <span class="px-3 py-1 bg-purple-200 text-purple-800 rounded-full text-sm font-medium">
              {skill}
            </span>
          ))}
        </div>
      </div>

      <!-- å·¥å…· -->
      <div class="p-6 rounded-xl bg-linear-to-r from-indigo-50 to-pink-50 border border-indigo-200">
        <p class="font-bold text-gray-800 mb-3">å¼€å‘å·¥å…·</p>
        <div class="flex flex-wrap gap-2">
          {["Git", "Docker", "Vite", "Astro", "VS Code"].map((skill) => (
            <span class="px-3 py-1 bg-indigo-200 text-indigo-800 rounded-full text-sm font-medium">
              {skill}
            </span>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- CTA åŒºåŸŸ -->
  <section class="mt-12 p-8 rounded-xl bg-linear-to-r from-blue-100 via-purple-100 to-indigo-100 border border-blue-200 text-center">
    <h2 class="text-3xl font-bold text-gray-800 mb-4">ğŸ‘‹ æ¬¢è¿äº¤æµ</h2>
    <p class="text-gray-700 mb-6 text-lg">
      å¦‚æœä½ å¯¹æˆ‘çš„æŠ€æœ¯æ–‡ç« ã€é¡¹ç›®æˆ–æƒ³æ³•æ„Ÿå…´è¶£ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¸æˆ‘è”ç³»
    </p>
    <div class="flex gap-4 justify-center flex-wrap">
      <a href="/about/" class="px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors">
        ğŸ“‹ æŸ¥çœ‹æˆ‘çš„ç®€å†
      </a>
      <a href="/blog/" class="px-6 py-3 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition-colors">
        ğŸ“š æµè§ˆå…¨éƒ¨æ–‡ç« 
      </a>
      <a href="/tags/" class="px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors">
        ğŸ·ï¸ æŒ‰æ ‡ç­¾æµè§ˆ
      </a>
    </div>
  </section>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <section class="mt-12 p-8 rounded-xl bg-linear-to-r from-slate-100 to-slate-50 border border-slate-200">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
      <div>
        <div class="text-4xl font-bold text-blue-600">{allPosts.length}</div>
        <div class="text-gray-600 text-sm mt-2">ç¯‡æ–‡ç« </div>
      </div>
      <div>
        <div class="text-4xl font-bold text-purple-600">6</div>
        <div class="text-gray-600 text-sm mt-2">å¹´ç»éªŒ</div>
      </div>
      <div>
        <div class="text-4xl font-bold text-indigo-600">4</div>
        <div class="text-gray-600 text-sm mt-2">å¤§é¡¹ç›®</div>
      </div>
      <div>
        <div class="text-4xl font-bold text-pink-600">âˆ</div>
        <div class="text-gray-600 text-sm mt-2">æŒç»­å­¦ä¹ </div>
      </div>
    </div>
  </section>
</BaseLayout>

---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from "astro:content";
const allPosts = (await getCollection("blog")).sort(
  (a, b) => new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime()
);
---
<BaseLayout pageTitle={'æˆ‘çš„åšå®¢'}>
  <div class="space-y-8">
    <!-- æ ‡é¢˜åŒºåŸŸ -->
    <div class="text-center mb-12">
      <h1 
        class="text-4xl font-bold mb-3"
      >
        ğŸ“ 
        <span
          style="display: inline-block; background: linear-gradient(90deg, #ec4899 0%, #8b5cf6 50%, #3b82f6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"
        >
        åšå®¢æ–‡ç« 
        </span>
      </h1>
      <p class="text-gray-600 text-lg">åˆ†äº«æŠ€æœ¯è§è§£ä¸å¼€å‘ç»éªŒ</p>
    </div>

    <!-- æ–‡ç« åˆ—è¡¨ç½‘æ ¼ -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {allPosts.map((post: any) => (
        <a
          href={`/posts/${post.id}/`}
          class="
            group relative flex flex-col p-6 rounded-xl
            bg-linear-to-br from-blue-50 to-indigo-50
            hover:from-blue-100 hover:to-indigo-100
            border border-blue-200 hover:border-blue-400
            transition-all duration-300 ease-out
            hover:shadow-lg hover:scale-[1.02]
            overflow-hidden
          "
        >
          <!-- èƒŒæ™¯è£…é¥° -->
          <div class="absolute top-0 right-0 w-32 h-32 bg-linear-to-br from-blue-200 to-indigo-200 rounded-full -mr-16 -mt-16 opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>

          <!-- å†…å®¹ -->
          <div class="relative z-10 flex-1">
            <h3 class="text-xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors line-clamp-2 mb-3">
              {post.data.title}
            </h3>
            
            {post.data.description && (
              <p class="text-gray-600 text-sm line-clamp-3 mb-4">
                {post.data.description}
              </p>
            )}
          </div>

          <!-- åº•éƒ¨ä¿¡æ¯ -->
          <div class="relative z-10 flex items-center justify-between pt-4 border-t border-blue-200 group-hover:border-blue-300 transition-colors">
            <div class="flex gap-2 flex-wrap">
              {post.data.tags && post.data.tags.map((tag: string) => (
                <span class="text-xs bg-blue-200 text-blue-700 px-2 py-1 rounded-full font-medium">
                  {tag}
                </span>
              ))}
            </div>
            <span class="text-xs text-gray-500 font-medium">
              {post.data.pubDate?.toLocaleDateString('zh-CN')}
            </span>
          </div>
        </a>
      ))}
    </div>

    <!-- ç»Ÿè®¡ä¿¡æ¯ -->
    <div class="mt-16 p-8 bg-gradient-to-r from-slate-100 to-slate-50 rounded-xl border border-slate-200">
      <div class="text-center">
        <div class="text-4xl font-bold text-blue-600 mb-2">{allPosts.length}</div>
        <div class="text-gray-600 text-lg">ç¯‡ä¼˜è´¨æ–‡ç« ï¼ŒæŒç»­æ›´æ–°ä¸­...</div>
      </div>
    </div>
  </div>
</BaseLayout>

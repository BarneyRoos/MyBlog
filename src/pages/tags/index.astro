---
import BaseLayout from "../../layouts/BaseLayout.astro";
import TagIndex from "../../components/TagIndex";
import { getCollection } from "astro:content";

const allPosts = await getCollection("blog");
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())].filter(tag => tag);
const pageTitle = "æ ‡ç­¾ç´¢å¼•";
---
<BaseLayout pageTitle={pageTitle}>
  <div class="space-y-8">
    <!-- æ ‡é¢˜ -->
    <div class="text-center mb-6">
      <h1 
        class="text-4xl font-bold mb-3"
      >
        ğŸ“š 
        <span
          style="display: inline-block; background: linear-gradient(90deg, #ec4899 0%, #8b5cf6 50%, #3b82f6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"
        >
        æŠ€æœ¯æ ‡ç­¾
        </span>
      </h1>
      <p class="text-gray-600 dark:text-gray-400 text-lg">æµè§ˆæ‰€æœ‰æŠ€æœ¯åˆ†ç±»ï¼Œå‘ç°ç›¸å…³æ–‡ç« </p>
    </div>

    <TagIndex client:load tags={tags} baseUrl={import.meta.env.BASE_URL} allPosts={allPosts} />
  </div>
</BaseLayout>
